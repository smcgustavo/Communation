"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class SessionsController {
    async index({ view }) {
        return view.render('sessions/create');
    }
    async store({ auth, request, response }) {
        const email = request.input('email');
        const password = request.input('password');
        console.log(email);
        console.log(password);
        try {
            await auth.use('web').attempt(email, password);
            response.redirect().toRoute('posts.index');
        }
        catch {
            return response.badRequest('Invalid');
        }
    }
}
exports.default = SessionsController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2Vzc2lvbnNDb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiU2Vzc2lvbnNDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBRUEsTUFBcUIsa0JBQWtCO0lBRTlCLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBQyxJQUFJLEVBQXNCO1FBQzVDLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7SUFDTSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUMsSUFBSSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQXNCO1FBQy9ELE1BQU0sS0FBSyxHQUFHLE9BQU8sQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUE7UUFDcEMsTUFBTSxRQUFRLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQTtRQUUxQyxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQ2xCLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUE7UUFFckIsSUFBRztZQUNELE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFDLFFBQVEsQ0FBQyxDQUFBO1lBQzdDLFFBQVEsQ0FBQyxRQUFRLEVBQUUsQ0FBQyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUE7U0FDM0M7UUFDRCxNQUFNO1lBQ0osT0FBTyxRQUFRLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1NBQ3RDO0lBQ0gsQ0FBQztDQUNGO0FBcEJELHFDQW9CQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgSHR0cENvbnRleHRDb250cmFjdCB9IGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvSHR0cENvbnRleHQnXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlc3Npb25zQ29udHJvbGxlciB7XG4gIFxuICBwdWJsaWMgYXN5bmMgaW5kZXgoe3ZpZXd9OiBIdHRwQ29udGV4dENvbnRyYWN0ICl7XG4gICAgcmV0dXJuIHZpZXcucmVuZGVyKCdzZXNzaW9ucy9jcmVhdGUnKTtcbiAgfVxuICBwdWJsaWMgYXN5bmMgc3RvcmUoe2F1dGgsIHJlcXVlc3QsIHJlc3BvbnNlfTogSHR0cENvbnRleHRDb250cmFjdCApe1xuICAgIGNvbnN0IGVtYWlsID0gcmVxdWVzdC5pbnB1dCgnZW1haWwnKVxuICAgIGNvbnN0IHBhc3N3b3JkID0gcmVxdWVzdC5pbnB1dCgncGFzc3dvcmQnKVxuXG4gICAgY29uc29sZS5sb2coZW1haWwpXG4gICAgY29uc29sZS5sb2cocGFzc3dvcmQpXG5cbiAgICB0cnl7XG4gICAgICBhd2FpdCBhdXRoLnVzZSgnd2ViJykuYXR0ZW1wdChlbWFpbCxwYXNzd29yZClcbiAgICAgIHJlc3BvbnNlLnJlZGlyZWN0KCkudG9Sb3V0ZSgncG9zdHMuaW5kZXgnKVxuICAgIH0gXG4gICAgY2F0Y2gge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmJhZFJlcXVlc3QoJ0ludmFsaWQnKVxuICAgIH1cbiAgfVxufSJdfQ==